import{_ as u}from"./slidev/VSwitch-DJey4ueL.js";import{_ as m}from"./slidev/Arrow.vue_vue_type_script_setup_true_lang-BJEaj3dP.js";import{a as x,b,o as w,w as l,g as t,e as n,ad as e,i as f,v as g,x as y,T as o}from"./modules/vue-vE-eLd24.js";import{I as v}from"./slidev/default-BTdren0y.js";import{u as h,f as c}from"./slidev/context-B_fzKaKS.js";import"./modules/shiki-DQqskUY8.js";import"./index-Btdoxgmh.js";const I="/talks/webassembly-component-model/assets/schema-web-Duk5snzu.png",k={class:"host-runtime-description wasm",style:{"font-size":"75%"}},F={__name:"slides.md__slidev_9",setup(T){const{$clicksContext:p,$frontmatter:r}=h();return p.setup(),(z,s)=>{const a=x("abr"),i=m,d=u;return w(),b(v,g(y(o(c)(o(r),8))),{default:l(()=>[s[22]||(s[22]=t("h1",null,"üè† Host Runtime : Web üåê",-1)),s[23]||(s[23]=t("img",{src:I,width:"90%"},null,-1)),n(d,null,{1:l(()=>[...s[0]||(s[0]=[t("div",{class:"host-runtime-description computer",style:{width:"330px"}},[t("p",null,"La version web est lanc√©e dans un navigateur.")],-1),t("div",{class:"rect",style:{left:"80px",width:"540px",height:"44px",top:"138px"},"data-label":"browser"},null,-1)])]),2:l(()=>[...s[1]||(s[1]=[t("div",{class:"rect",style:{left:"93px",width:"302px",height:"43px",top:"182px"},"data-label":"host-web"},null,-1)])]),3:l(()=>[f(`
<div class="host-runtime-description wasm" style="width: 330px;">
  <p>Les <strong>composants WebAssembly</strong> issus de la compilation du code source des plugins en Rust, C, Go.</p>
  <p>Sont transpil√©s avec <code>jco transpile</code> en :</p>
  <ul>
    <li><strong>WebAssembly Modules</strong> (WASM)</li>
    <li><strong>Glue code</strong> (JS)</li>
  </ul>
  <p>Le navigateur ne supporte pas nativement les composants WebAssembly.</p>
</div>
`),s[2]||(s[2]=t("div",{class:"rect",style:{left:"125px",width:"275px",height:"254px",top:"262px","border-radius":"35px"},"data-label":"wasm-files"},null,-1))]),4:l(()=>[...s[3]||(s[3]=[t("div",{class:"host-runtime-description wasm",style:{"font-size":"70%",width:"290px"}},[t("p",null,[t("code",null,"repl-logic-guest.wasm")]),t("p",null,[t("strong",null,"IDENTIQUE"),e(" √† la version CLI")])],-1),t("div",{class:"rect",style:{left:"140px",width:"250px",height:"40px",top:"280px"},"data-label":"repl-logic"},null,-1)])]),5:l(()=>[...s[4]||(s[4]=[t("div",{class:"host-runtime-description wasm",style:{"font-size":"70%",width:"290px"}},[t("p",null,[t("code",null,"plugin*.wasm"),e(" - "),t("strong",null,"IDENTIQUE"),e(" √† la version CLI")])],-1),t("div",{class:"rect",style:{left:"142px",width:"152px",height:"157px",top:"323px"},"data-label":"plugins"},null,-1)])]),6:l(()=>[...s[5]||(s[5]=[t("div",{class:"host-runtime-description typescript",style:{"font-size":"80%"}},[t("p",null,"Les navigateurs n'ont pas acc√®s au filesystem."),t("p",null,"‚Üí Filesystem virtuel en m√©moire.")],-1),t("div",{class:"rect",style:{left:"431px",width:"148px",height:"99px",top:"413px"},"data-label":"filesystem-virtual"},null,-1)])]),7:l(()=>[t("div",k,[s[11]||(s[11]=t("p",null,[t("code",null,"plugin*.wasm"),e(" üìÅ - Filesystem virtuel en m√©moire.")],-1)),t("p",null,[s[7]||(s[7]=e("Mis √† disposition des plugins via le ",-1)),n(a,{title:"Un shim est une couche de compatibilit√© qui traduit les appels entre deux syst√®mes diff√©rents."},{default:l(()=>[...s[6]||(s[6]=[e("shim",-1)])]),_:1}),s[8]||(s[8]=e(" de ",-1)),s[9]||(s[9]=t("code",null,"wasi:filesystem",-1)),s[10]||(s[10]=e(".",-1))]),s[12]||(s[12]=t("p",null,[t("code",null,"std::fs::{read_dir, File, read_to_string}"),e(" marchent de fa√ßon transparente.")],-1)),s[13]||(s[13]=t("p",null,[t("strong",null,"#WASI")],-1)),s[14]||(s[14]=t("ul",null,[t("li",null,[t("a",{href:"https://github.com/topheman/webassembly-component-model-experiments/blob/master/packages/web-host/src/wasm/virtualFs.ts",target:"_blank"},"virtualFs.ts")]),t("li",null,[t("a",{href:"https://github.com/topheman/webassembly-component-model-experiments/blob/master/packages/web-host/overrides/%40bytecodealliance/preview2-shim/lib/browser/filesystem.js",target:"_blank"},"@bytecodealliance/preview2-shim/filesystem")]),t("li",null,[t("a",{href:"https://github.com/topheman/webassembly-component-model-experiments/pull/15",target:"_blank"},"Support WRITE operations")])],-1))]),s[15]||(s[15]=t("div",{class:"rect",style:{left:"142px",width:"152px",height:"157px",top:"323px"},"data-label":"plugins"},null,-1)),s[16]||(s[16]=t("div",{class:"rect",style:{left:"468px",width:"74px",height:"33px",top:"332px"},"data-label":"shim"},null,-1)),n(i,{x1:"318",y1:"350",x2:"460",y2:"350",color:"#900000",width:"4","data-label":"arrow-fs-1"}),n(i,{x1:"506",y1:"362",x2:"506",y2:"422",color:"#900000",width:"4","data-label":"arrow-fs-2"}),s[17]||(s[17]=t("div",{class:"rect",style:{left:"431px",width:"148px",height:"99px",top:"413px"},"data-label":"filesystem-virtual"},null,-1))]),8:l(()=>[s[18]||(s[18]=t("div",{class:"host-runtime-description wasm",style:{"font-size":"80%"}},[t("p",null,[t("code",null,"plugin*.wasm"),e(" üåê")]),t("p",null,"M√™me interface HTTP client via WIT."),t("p",{style:{"font-size":"95%"}},[e("Impl√©mentation bas√©e sur "),t("code",null,"XMLHttpRequest"),e(" (sync).")]),t("p",null,[t("code",null,"jco"),e(" ne supportant pas encore les calls asynchrones.")])],-1)),n(i,{x1:"475",y1:"246",x2:"680",y2:"246",color:"#900000",width:"4","data-label":"arrow-network"}),s[19]||(s[19]=t("div",{class:"rect",style:{left:"135px",width:"341px",height:"38px",top:"224px"},"data-label":"http-client-xmlhttprequest"},null,-1)),s[20]||(s[20]=t("div",{class:"rect",style:{left:"142px",width:"152px",height:"157px",top:"323px"},"data-label":"plugins"},null,-1))]),9:l(()=>[...s[21]||(s[21]=[])]),_:1})]),_:1},16)}}};export{F as default};
